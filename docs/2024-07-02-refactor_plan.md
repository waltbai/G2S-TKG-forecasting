# Refactor Plan

- [ ] stage 1
  - [ ] History construction
    - [ ] high-order history 
  - [x] Anonymize strategies
    - [x] global strategy
    - [x] session strategy
    - [x] original strategy
    - [x] entity/relation anonymization control
  - [x] time process strategies
    - [x] start strategy
    - [x] query strategy
    - [x] original strategy
  - [ ] prompt strategy
    - [ ] qa
      - [ ] remove swap
      - [ ] remove relabel
    - [x] inline
      - [x] remove relabel
- [ ] stage 2
  - [ ] select candidates from stage 1
  - [ ] construct entity state summary for candidates
